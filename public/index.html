<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="app"></div>
    <div id="div" class="progress-bar " style="height:100px;width:10px;background:red;"></div>
    <button id="start">开始动画</button>
    <script>
        let btn = document.getElementById('start')
        let div = document.getElementById('div')
        let start = 0
        let allInterval = []
      
        const progress = () => {
          div.style.width = div.offsetWidth + 1 + 'px'
          div.innerHTML = (div.offsetWidth) + '%'
          if (div.offsetWidth < 100) {
            let current = Date.now()
            allInterval.push(current - start)
            start = current
            requestAnimationFrame(progress)
          }  
        }
      
        btn.addEventListener('click', () => {
          div.style.width = 0
          let currrent = Date.now()
          start = currrent
          requestAnimationFrame(progress)
          document.dispatchEvent(evt)
        })
        btn.addEventListener('click', () => {
          console.log(121)
        })
      </script>
      <script>
        // 定义事件
        const evtType = 'myEvent'
        const evt = document.createEvent('Event')
        evt.initEvent(evtType,false,false)
        // 注册事件
        document.addEventListener(evtType,function(){
            console.log('触发'+evtType)
        })
        // 触发事件
        document.dispatchEvent(evt)

        function test(a,b){
            console.log(a,b)
        }
        const b = test.bind(null,1)
        b(3,4)
      </script>
</body>
</html>